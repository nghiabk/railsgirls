<!DOCTYPE html>
<html>
  <head>
    <title>RailsGirls</title>
    <%= csrf_meta_tags %>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.css">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar navbar-brand text-rails" style="margin-bottom:0" href="/">RailsGirls2017</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-btn navbar-right">
        <li class="active"><a class="btn-nav-custom" href="/ideas">List Ideas</a></li>
        <p class="navbar-text pull-right">
        <li class="active"><a class="btn-nav-custom" href="/comments">Comments</a></li>
        <% if user_signed_in? %>
          <li>
            <div class="dropdown">
              
                <button onclick="myFunction()" class="dropbtn"><%= current_user.try :email %></button>
                <div id="myDropdown" class="dropdown-content">
               
                  <%= link_to "Edit profile", edit_user_registration_path, :class => 'btn-nav-custom' %> 
                  <%= link_to "Logout", destroy_user_session_path, method: :delete, :class => 'btn-nav-custom'  %>
                  
                </div>
            </div>
          </li>
          <%= image_tag current_user.gravatar_url, class: "avatar" %>
        <% else %>
          <li class="active"><%= link_to "Sign up", new_user_registration_path, :class => 'btn-nav-custom' %> </li>
          <li class="active"><%= link_to "Login", new_user_session_path, :class => 'btn-nav-custom' %></li>
        <% end %>
      </ul>
      </div>
    </div>
  </div>
  </nav>
   <div>
     
    <!--<p class="navbar-text pull-right">-->
    

<!--<div class="dropdown">-->
<!--<button onclick="myFunction()" class="dropbtn">Dropdown</button>-->
<!--  <div id="myDropdown" class="dropdown-content">-->
<!--    <a href="#home">Home</a>-->
<!--    <a href="#about">About</a>-->
<!--    <a href="#contact">Contact</a>-->
<!--  </div>-->
<!--</div>-->


     
<% if notice %>
  <p class="alert alert-success"><%= notice %></p>
<% end %>
<% if alert %>
  <p class="alert alert-danger"><%= alert %></p>
<% end %>
    <%= yield %>
   </div>
   <div class="clearfix"></div>
   <footer>
  <div class="container text-center text-logo">
    Rails Girls <%= Time.now.year %>
  </div>
  </footer>
  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>
    /* When the user clicks on the button, 
    toggle between hiding and showing the dropdown content */
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
    
    // Close the dropdown if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
    
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>

  </body>
</html>
